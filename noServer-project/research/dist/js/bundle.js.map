{"version":3,"sources":["app.js","controller.js","service.js","views/home/apodService.js","views/home/backgroundDir.js","views/navigation/navCtrl.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","$state","collectionService","apodService","style","backgroundStyle","getbackground","getApodPic","then","response","start","gatherData","console","log","go","service","$http","self","apiKeyUSCensus","apiGoogleMaps","apiNASA","apiOpenWeatherMap","apiWeatherUnderground","getGeoLocation","method","personData","data","getWeatherForcast","location","region","toLowerCase","city","cityArr","split","i","length","substr","current_observation","currentWeather","error","alert","GeoLocationResponse","urlBackground","backgroundUrl","directive"],"mappings":"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","file":"bundle.js","sourcesContent":["// INITILIZE APP\n// ============================================================\nvar app = angular.module(\"app\", ['ui.router'])\n.config(function($stateProvider,$urlRouterProvider){\n\n\n    $stateProvider\n        .state('home', {\n            url: '/',\n            templateUrl: './js/views/home/home.html'\n        })\n        .state('navigation', {\n            url: '/nav',\n            templateUrl: './js/views/navigation/navTmpl.html',\n            controller: 'navCtrl'\n        })\n        .state('map', {\n            url: '/map',\n            templateUrl: './js/views/map/mapTmpl.html'\n        });\n\n    $urlRouterProvider.otherwise('/');\n\n\n\n\n});\n","// INITILIZE CONTROLLER\n// ============================================================\nangular.module(\"app\")\n.controller(\"mainCtrl\", function($scope, $state, collectionService, apodService) {\n  // VARIABLES\n  // ============================================================\n\n\n  // FUNCTIONS\n  // ============================================================\n\n  // home page functions\n\n$scope.style = apodService.backgroundStyle;\n$scope.getbackground = function(){\n    apodService.getApodPic().then(function(response) {\n        $scope.style = response;\n    })\n};\n$scope.getbackground();\n\n\n\n    // navigation page FUNCTIONS\n\n$scope.start = function () {\n    collectionService.gatherData()\n        .then(function(response) {\n            console.log('Controller data returned: ', response);\n            $state.go('navigation');\n\n        })\n    }\n\n\n\n\n        // end of controller\n});\n","// INITILIZE SERVICE\n// ============================================================\nangular.module(\"app\").service(\"collectionService\", function($http) {\n  // VARIABLES\n\n  var self = this;\n\n    this.apiKeyUSCensus = 'ba5f504113d9898c1af0c36a2d6428e98616223b';\n    this.apiGoogleMaps = 'AIzaSyAuRssyGZCeA3to';\n    this.apiNASA = '6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve';\n    this.apiOpenWeatherMap = 'c94e2f8cb7f535e349c15a0ddb7c8a8e';\n    this.apiWeatherUnderground = 'd91bd8a3ab96a8cb';\n\n\n\n  // START FUNCTIONS\n  // ============================================================\n\n\n\n    self.getGeoLocation = function () {\n        return $http({\n            method: 'GET',\n            url: 'http://ip-api.com/json'\n        }).then (function(response) {\n            self.personData = response.data;\n            return response.data;\n        })\n    }\n\n    self.getWeatherForcast = function (location) {\n\n// state string to lowercase\n        var state = location.region.toLowerCase();\n\n// concat city string to first_middle_last format\n        var city = '';\n        var cityArr = location.city.split(' ');\n        for(var i = 0; i < cityArr.length; i++) {\n            city = cityArr[i] + '_';\n        }\n        city = city.substr(0,city.length - 1);\n\n\n        return $http({\n            method: 'GET',\n            url: 'http://api.wunderground.com/api/d91bd8a3ab96a8cb/conditions/q/' + state + '/' + city + '.json'\n            // url: ''  // to not run to many requests\n        }).then(function(response) {\nconsole.log(response.data.current_observation);\n            self.currentWeather = response.data.current_observation;\n            return response.data.current_observation;\n        }\n        ,   function(error) {\n            alert('Weather Request Data Error')\n            return 'No Weather Forcast Available';\n        })\n    }\n\n\n  // OTHER FUNCTIONS\n  // ============================================================\n\n  self.gatherData = function() {\n      self.getGeoLocation()\n          .then(function(response) {\n              return response;\n              // format response for next function\n              // build personal data object\n              // adjust city information to work with weather api call\n          })\n          .then(function(GeoLocationResponse){\n\n              // use location to get current weather forecast\n              // determine if weather is appropriate for indoor/outdoor activity\n              // add information to personal data object\n              self.getWeatherForcast(GeoLocationResponse)\n                .then(function(response) {\n                    return response;\n                })\n\n          })\n          return response;\n  }\n\n\n\n            //end of service\n});\n","angular.module('app')\n.service('apodService', function($http) {\n\n\nvar urlBackground = 'http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg';\n\nthis.backgroundStyle = {\n    \"background-image\" : urlBackground,\n    \"background-position\" : \"center\",\n    \"background-size\" : \"cover\",\n    \"background-repeat\" : \"no-repeat\",\n    \"background-attachment\" : \"fixed\",\n    \"width\" : \"100%\",\n    \"height\" : \"100%\",\n    \"display\" : \"flex\",\n    \"justify-content\" : \"center\",\n    \"align-items\" : \"center\"\n}\nvar self = this;\n\n    self.getApodPic = function() {\n        return $http({\n            method: 'GET',\n            url: 'https://api.nasa.gov/planetary/apod?api_key=6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve'\n\n        }).then(function(response) {\n            var backgroundUrl = response.data.url;\n            var urlBackground = 'url(' + backgroundUrl + ')';\n            return urlBackground;\n        },\n        function (error) {\n            urlBackground = `http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg`;\n        })\n        .then(function(urlBackground){\n            self.backgroundStyle = {\n                \"background-image\" : urlBackground,\n                \"background-position\" : \"center\",\n                \"background-size\" : \"cover\",\n                \"background-repeat\" : \"no-repeat\",\n                \"background-attachment\" : \"fixed\",\n                \"width\" : \"100%\",\n                \"height\" : \"100%\",\n                \"display\" : \"flex\",\n                \"justify-content\" : \"center\",\n                \"align-items\" : \"center\"\n            }\n            return self.backgroundStyle;\n        });\n    }\n\n    // getApodPic();\n\n\n})\n","angular.module('app')\n.directive('bkgrdDir', function() {\n\n\n\n\n\n})\n","angular.module('app')\n.controller('navCtrl', function($scope, collectionService) {\n\n    $scope.personData = collectionService.personData;\n    $scope.currentWeather = collectionService.currentWeather;\n\nconsole.log(\"navCtrl is now active\");\nconsole.log('personData: ', $scope.personData);\nconsole.log('currentWeather: ', $scope.currentWeather);\n\n})\n"]}