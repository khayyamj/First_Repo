{"version":3,"sources":["app.js","controller.js","service.js","views/home/apodService.js","views/home/backgroundDir.js","views/map/gmap.js","views/navigation/navCtrl.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","$state","collectionService","apodService","style","backgroundStyle","getbackground","getApodPic","then","response","start","getGeoLocation","personData","console","log","getWeatherForcast","currentWeather","go","service","$http","self","apiKeyUSCensus","apiGoogleMaps","apiNASA","apiOpenWeatherMap","apiWeatherUnderground","method","data","location","region","toLowerCase","city","cityArr","split","i","length","substr","current_observation","error","alert","urlBackground","backgroundUrl","directive","restrict","template","replace","scope","link","element","attrs","myLatLng","google","maps","LatLng","mapOptions","center","zoom","mapTypeId","map","Map","document","getElementById","id","marker","Marker","position","title","setMap","setVars","gotoMap"],"mappings":"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","file":"bundle.js","sourcesContent":["// INITILIZE APP\n// ============================================================\nvar app = angular.module(\"app\", ['ui.router'])\n.config(function($stateProvider,$urlRouterProvider){\n\n\n    $stateProvider\n        .state('home', {\n            url: '/',\n            templateUrl: './js/views/home/home.html'\n        })\n        .state('navigation', {\n            url: '/nav',\n            templateUrl: './js/views/navigation/navTmpl.html',\n            controller: 'navCtrl'\n        })\n        .state('map', {\n            url: '/map',\n            templateUrl: './js/views/map/mapTmpl.html'\n        });\n\n    $urlRouterProvider.otherwise('/');\n\n\n\n\n});\n","// INITILIZE CONTROLLER\n// ============================================================\nangular.module(\"app\")\n.controller(\"mainCtrl\", function($scope, $state, collectionService, apodService) {\n  // VARIABLES\n  // ============================================================\n\n\n\n  // FUNCTIONS\n  // ============================================================\n\n  // home page functions\n\n$scope.style = apodService.backgroundStyle;\n$scope.getbackground = function(){\n    apodService.getApodPic().then(function(response) {\n        $scope.style = response;\n    })\n};\n$scope.getbackground();\n\n\n\n    // navigation page FUNCTIONS\n\n$scope.start = function () {\n    collectionService.getGeoLocation()\n        .then(function(response){\n            $scope.personData = collectionService.personData;\n            console.log ('**Step 2** returned $scope.personData: ',$scope.personData, '****');\n            collectionService.getWeatherForcast(response)\n                .then(function(response) {\n                    $scope.currentWeather = collectionService.currentWeather;\n                    console.log(\"**Step 4** returned $scope.currentWeather: \",$scope.currentWeather);\n                        $state.go('navigation');\n                    })\n                return response;\n            })\n\n        .then(function(response) {\n        })\n    }\n\n\n        // end of controller\n});\n","// INITILIZE SERVICE\n// ============================================================\nangular.module(\"app\").service(\"collectionService\", function($http) {\n  // VARIABLES\n\n  var self = this;\n\n    this.apiKeyUSCensus = 'ba5f504113d9898c1af0c36a2d6428e98616223b';\n    this.apiGoogleMaps = 'AIzaSyAuRssyGZCeA3to';\n    this.apiNASA = '6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve';\n    this.apiOpenWeatherMap = 'c94e2f8cb7f535e349c15a0ddb7c8a8e';\n    this.apiWeatherUnderground = 'd91bd8a3ab96a8cb';\n\n\n  // START FUNCTIONS\n  // ============================================================\n\n\n\n    self.getGeoLocation = function () {\n        return $http({\n            method: 'GET',\n            url: 'http://ip-api.com/json'\n        }).then (function(response) {\n            self.personData = response.data;\n            console.log(\"**Step 1** getGeoLocation assigned self.personData: \",self.personData);\n            return response.data;\n        })\n    }\n\n    self.getWeatherForcast = function (location) {\n            // state string to lowercase\n        var state = location.region.toLowerCase();\n            // concat city string to first_middle_last format\n        var city = '';\n        var cityArr = location.city.split(' ');\n            for(var i = 0; i < cityArr.length; i++) {\n                city = cityArr[i] + '_';\n            }\n            city = city.substr(0,city.length - 1);\n\n        return $http({\n            method: 'GET',\n            url: 'http://api.wunderground.com/api/d91bd8a3ab96a8cb/conditions/q/' + state + '/' + city + '.json'\n            // url: ''  // to not run to many requests\n        }).then(function(response) {\n            self.currentWeather = response.data.current_observation;\n            console.log('**Step 3 ** getWeatherForcast assigned self.currentWeather: ', self.currentWeather);\n            return response.data.current_observation;\n        }\n        ,   function(error) {\n            alert('Weather Request Data Error')\n            return 'No Weather Forcast Available';\n        })\n    }\n\n\n  // OTHER FUNCTIONS\n  // ============================================================\n\n\n\n\n\n            //end of service\n});\n","angular.module('app')\n.service('apodService', function($http) {\n\n\nvar urlBackground = 'http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg';\n\nthis.backgroundStyle = {\n    \"background-image\" : urlBackground,\n    \"background-position\" : \"center\",\n    \"background-size\" : \"cover\",\n    \"background-repeat\" : \"no-repeat\",\n    \"background-attachment\" : \"fixed\",\n    \"width\" : \"100%\",\n    \"height\" : \"100%\",\n    \"display\" : \"flex\",\n    \"justify-content\" : \"center\",\n    \"align-items\" : \"center\"\n}\nvar self = this;\n\n    self.getApodPic = function() {\n        return $http({\n            method: 'GET',\n            url: 'https://api.nasa.gov/planetary/apod?api_key=6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve'\n\n        }).then(function(response) {\n            var backgroundUrl = response.data.url;\n            var urlBackground = 'url(' + backgroundUrl + ')';\n            return urlBackground;\n        },\n        function (error) {\n            urlBackground = `http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg`;\n        })\n        .then(function(urlBackground){\n            self.backgroundStyle = {\n                \"background-image\" : urlBackground,\n                \"background-position\" : \"center\",\n                \"background-size\" : \"cover\",\n                \"background-repeat\" : \"no-repeat\",\n                \"background-attachment\" : \"fixed\",\n                \"width\" : \"100%\",\n                \"height\" : \"100%\",\n                \"display\" : \"flex\",\n                \"justify-content\" : \"center\",\n                \"align-items\" : \"center\"\n            }\n            return self.backgroundStyle;\n        });\n    }\n\n    // getApodPic();\n\n\n})\n","angular.module('app')\n.directive('bkgrdDir', function() {\n\n\n\n\n\n})\n","angular.module('app')\n.directive('mapDir', function(){\n    return{\n        restrict: 'E',\n        template: '<div></div>',\n        replace: true,\n        scope: {\n            personData: '='\n        },\n        link: function(scope, element, attrs) {\n            console.log(\"Scope: \", scope);\n            var myLatLng = new google.maps.LatLng(40.2263, -111.6607);\n            var mapOptions = {\n                center: myLatLng,\n                zoom: 15,\n                mapTypeId: 'satellite'\n            };\n            var map = new google.maps.Map(document.getElementById(attrs.id), mapOptions);\n\n            var marker = new google.maps.Marker({\n                position: myLatLng,\n                map: map,\n                title: 'You Are Here'\n            });\n            marker.setMap(map);\n        }\n    };\n});\n","angular.module('app')\n.controller('navCtrl', function($scope, collectionService, $state) {\n\nvar setVars = function() {\n    $scope.personData = collectionService.personData;\n    $scope.currentWeather = collectionService.currentWeather;\n    console.log('self-invocing function worked, assigned variables');\n    console.log('navCtrl currentWeather: ', $scope.currentWeather);\n}();\n\n\n    $scope.gotoMap = function() {\n        $state.go('map');\n    }\n\n})\n"]}