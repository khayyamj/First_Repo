{"version":3,"sources":["app.js","controller.js","service.js","views/home/apodService.js","views/home/backgroundDir.js","views/navigation/navCtrl.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","$state","collectionService","apodService","style","backgroundStyle","getbackground","getApodPic","then","response","start","gatherData","console","log","go","service","$http","self","apiKeyUSCensus","apiGoogleMaps","apiNASA","apiOpenWeatherMap","apiWeatherUnderground","broken","getGeoLocation","method","personData","data","getWeatherForcast","location","region","toLowerCase","city","cityArr","split","i","length","substr","currentWeather","current_observation","error","alert","locationResponse","GeoLocationResponse","urlBackground","backgroundUrl","directive"],"mappings":"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","file":"bundle.js","sourcesContent":["// INITILIZE APP\n// ============================================================\nvar app = angular.module(\"app\", ['ui.router'])\n.config(function($stateProvider,$urlRouterProvider){\n\n\n    $stateProvider\n        .state('home', {\n            url: '/',\n            templateUrl: './js/views/home/home.html'\n        })\n        .state('navigation', {\n            url: '/nav',\n            templateUrl: './js/views/navigation/navTmpl.html',\n            controller: 'navCtrl'\n        })\n        .state('map', {\n            url: '/map',\n            templateUrl: './js/views/map/mapTmpl.html'\n        });\n\n    $urlRouterProvider.otherwise('/');\n\n\n\n\n});\n","// INITILIZE CONTROLLER\n// ============================================================\nangular.module(\"app\")\n.controller(\"mainCtrl\", function($scope, $state, collectionService, apodService) {\n  // VARIABLES\n  // ============================================================\n\n\n  // FUNCTIONS\n  // ============================================================\n\n  // home page functions\n\n$scope.style = apodService.backgroundStyle;\n$scope.getbackground = function(){\n    apodService.getApodPic().then(function(response) {\n        $scope.style = response;\n    })\n};\n$scope.getbackground();\n\n\n\n    // navigation page FUNCTIONS\n\n$scope.start = function () {\n    collectionService.gatherData()\n        .then(function(response) {\n            console.log('Controller data returned: ', response);\n            $state.go('navigation');\n\n        })\n    }\n\n\n\n\n        // end of controller\n});\n","// INITILIZE SERVICE\n// ============================================================\nangular.module(\"app\").service(\"collectionService\", function($http) {\n  // VARIABLES\n\n  var self = this;\n\n    this.apiKeyUSCensus = 'ba5f504113d9898c1af0c36a2d6428e98616223b';\n    this.apiGoogleMaps = 'AIzaSyAuRssyGZCeA3to';\n    this.apiNASA = '6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve';\n    this.apiOpenWeatherMap = 'c94e2f8cb7f535e349c15a0ddb7c8a8e';\n    this.apiWeatherUnderground = 'd91bd8a3ab96a8cb';\n\nvar broken = 'broken link'\n\n  // START FUNCTIONS\n  // ============================================================\n\n\n\n    self.getGeoLocation = function () {\n        return $http({\n            method: 'GET',\n            url: 'http://ip-api.com/json'\n        }).then (function(response) {\n            self.personData = response.data;\n            return response.data;\n        })\n    }\n\n    self.getWeatherForcast = function (location) {\n\n// state string to lowercase\n        var state = location.region.toLowerCase();\n\n// concat city string to first_middle_last format\n        var city = '';\n        var cityArr = location.city.split(' ');\n        for(var i = 0; i < cityArr.length; i++) {\n            city = cityArr[i] + '_';\n        }\n        city = city.substr(0,city.length - 1);\n\n\n        return $http({\n            method: 'GET',\n            url: 'http://api.wunderground.com/api/d91bd8a3ab96a8cb/conditions/q/' + state + '/' + city + '.json'\n            // url: ''  // to not run to many requests\n        }).then(function(response) {\n            self.currentWeather = response.data.current_observation;\nconsole.log(self.currentWeather);            \n            return response.data.current_observation;\n        }\n        ,   function(error) {\n            alert('Weather Request Data Error')\n            return 'No Weather Forcast Available';\n        })\n    }\n\n\n  // OTHER FUNCTIONS\n  // ============================================================\n\n  self.gatherData = function() {\n      self.getGeoLocation()\n          .then(function(locationResponse) {\n              return locationResponse;\n          })  // end of then locationResponse\n\n          .then(function(GeoLocationResponse){\n              // determine if weather is appropriate for indoor/outdoor activity\n              // add information to personal data object\n//need to return something from this function\n              self.getWeatherForcast(GeoLocationResponse)\n                .then(function(response) {\nconsole.log('Last working spot...find lost return response after this point')\n\n                })  // end then getWeatherForcast function\nconsole.log('Response returning to controller: ', response);\n            return broken;\n            })    // end then GeoLocationResponse\n\n  }\n\n\n\n            //end of service\n});\n","angular.module('app')\n.service('apodService', function($http) {\n\n\nvar urlBackground = 'http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg';\n\nthis.backgroundStyle = {\n    \"background-image\" : urlBackground,\n    \"background-position\" : \"center\",\n    \"background-size\" : \"cover\",\n    \"background-repeat\" : \"no-repeat\",\n    \"background-attachment\" : \"fixed\",\n    \"width\" : \"100%\",\n    \"height\" : \"100%\",\n    \"display\" : \"flex\",\n    \"justify-content\" : \"center\",\n    \"align-items\" : \"center\"\n}\nvar self = this;\n\n    self.getApodPic = function() {\n        return $http({\n            method: 'GET',\n            url: 'https://api.nasa.gov/planetary/apod?api_key=6bYPFTSlZLuHqruzDWBUaXpZhZDhD6YinK3Um7ve'\n\n        }).then(function(response) {\n            var backgroundUrl = response.data.url;\n            var urlBackground = 'url(' + backgroundUrl + ')';\n            return urlBackground;\n        },\n        function (error) {\n            urlBackground = `http://apod.nasa.gov/apod/image/1701/ab_moon_from_geo_orbit_med_res_jan_15_2017_1024.jpg`;\n        })\n        .then(function(urlBackground){\n            self.backgroundStyle = {\n                \"background-image\" : urlBackground,\n                \"background-position\" : \"center\",\n                \"background-size\" : \"cover\",\n                \"background-repeat\" : \"no-repeat\",\n                \"background-attachment\" : \"fixed\",\n                \"width\" : \"100%\",\n                \"height\" : \"100%\",\n                \"display\" : \"flex\",\n                \"justify-content\" : \"center\",\n                \"align-items\" : \"center\"\n            }\n            return self.backgroundStyle;\n        });\n    }\n\n    // getApodPic();\n\n\n})\n","angular.module('app')\n.directive('bkgrdDir', function() {\n\n\n\n\n\n})\n","angular.module('app')\n.controller('navCtrl', function($scope, collectionService) {\n\n    $scope.personData = collectionService.personData;\n    $scope.currentWeather = collectionService.currentWeather;\n\nconsole.log(\"navCtrl is now active\");\nconsole.log('personData: ', $scope.personData);\nconsole.log('currentWeather: ', $scope.currentWeather);\n\n})\n"]}